<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Gestión de Cultivos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        /* Definición de Variables CSS para un diseño consistente */
        :root {
            --primary-color: #79B489; /* Verde Suave (inspirado en la naturaleza) */
            --secondary-color: #E2DF9D; /* Amarillo Suave (arena o tierra clara) */
            --accent-color: #E6844D; /* Naranja Tierra (para botones de acción) */
            --dark-text: #343a40; /* Texto oscuro general */
            --light-text: #f8f9fa; /* Texto claro (para fondos oscuros) */
            --card-bg: #ffffff; /* Fondo de las secciones y formularios */
            --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08); /* Sombra ligera para elevación */
            --border-radius: 0.75rem; /* Radio de borde global para elementos */
        }

        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; /* Fuente moderna y legible */
            background-color: var(--secondary-color); /* Fondo amarillo suave y claro */
            color: var(--dark-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px; /* Limita el ancho para un mejor layout */
        }

        /* Navbar simple y elegante */
        .navbar {
            background-color: var(--primary-color); /* Un verde suave para la barra superior */
            box-shadow: var(--shadow-light);
            margin-bottom: 2.5rem; /* Espacio debajo de la navbar */
            border-radius: 0 0 var(--border-radius) var(--border-radius); /* Bordes redondeados abajo */
        }
        .navbar-brand {
            color: var(--light-text) !important;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        .navbar-brand i {
            font-size: 1.5rem; /* Ícono más grande */
            margin-right: 0.5rem;
            color: var(--light-text);
        }

        /* Título principal de la página */
        h2 { /* Tu h2 se convertirá en un título más estilizado */
            color: var(--dark-text);
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center; /* Centrado para un look limpio */
            letter-spacing: -0.03em;
            font-size: 2.5rem; /* Tamaño de fuente un poco más grande */
        }
        h2 .bi-tree-fill {
            color: var(--primary-color) !important; /* Asegura que el ícono sea verde */
        }

        /* Alerta de mensajes */
        #alerta {
            border-radius: 0.5rem;
            font-weight: 500;
            text-align: center;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        /* Sección del Formulario */
        .form-section {
            background-color: var(--card-bg); /* Fondo blanco */
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: 2rem;
            margin-bottom: 2.5rem;
        }
        .form-section .form-label {
            font-weight: 500;
            color: var(--dark-text);
        }
        .form-section .form-control,
        .form-section .form-select {
            border-radius: 0.5rem;
            border-color: #dee2e6;
        }
        .form-section .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        /* Estilos de los botones */
        .btn-warning {
            background-color: var(--accent-color); /* Naranja tierra para warning/acción principal */
            border-color: var(--accent-color);
            color: var(--light-text);
        }
        .btn-warning:hover {
            background-color: #c96a32; /* Tono más oscuro al pasar el mouse */
            border-color: #c96a32;
            transform: translateY(-2px); /* Pequeño efecto al pasar el mouse */
        }
        .btn-danger {
            background-color: #dc3545; /* Rojo estándar para eliminar */
            border-color: #dc3545;
            color: var(--light-text);
            transition: all 0.3s ease;
        }
        .btn-danger:hover {
            background-color: #c82333;
            border-color: #c82333;
            transform: translateY(-2px);
        }
        .btn-secondary { /* Estilo para el botón Cancelar */
            background-color: #6c757d;
            border-color: #6c757d;
            color: var(--light-text);
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #5a6268;
            border-color: #5a6268;
            transform: translateY(-2px);
        }
        .btn-outline-secondary { /* Para el botón de limpiar búsqueda */
            border-color: #ced4da;
            color: #6c757d;
            transition: all 0.3s ease;
        }
        .btn-outline-secondary:hover {
            background-color: #e2e6ea;
            border-color: #ced4da;
            color: #495057;
        }


        /* Buscador */
        .input-group {
            margin-bottom: 2.5rem !important; /* Espacio debajo del buscador */
        }
        .input-group .form-control {
            border-radius: 0.5rem 0 0 0.5rem; /* Esquinas redondeadas solo a la izquierda */
            border-color: #dee2e6;
        }
        .input-group .input-group-text {
            background-color: var(--card-bg); /* Fondo blanco */
            border-color: #dee2e6;
            border-radius: 0 0.5rem 0.5rem 0; /* Esquinas redondeadas solo a la derecha */
            color: #6c757d;
        }
        .input-group .btn {
            border-radius: 0.5rem !important; /* Asegura bordes redondeados */
            margin-left: 0.5rem; /* Espacio entre el campo de búsqueda y el botón */
        }


        /* Tabla */
        .table-responsive {
            background-color: var(--card-bg); /* Fondo blanco para la tabla */
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: 1.5rem; /* Espacio interno para la tabla */
            overflow-x: auto; /* Para tablas grandes en móviles */
        }
        .table {
            margin-bottom: 0; /* Elimina margen inferior de la tabla */
        }
        .table thead th {
            background-color: var(--primary-color); /* Verde suave para la cabecera */
            color: var(--light-text); /* Texto blanco */
            border-color: var(--primary-color);
            font-weight: 600;
            vertical-align: middle;
            padding: 1rem 0.75rem; /* Padding más generoso */
        }
        .table tbody tr {
            transition: background-color 0.2s ease; /* Transición para el hover */
        }
        .table tbody tr:hover {
            background-color: #f0f8f0; /* Color suave al pasar el mouse */
        }
        .table tbody td {
            vertical-align: middle;
            padding: 0.75rem;
            border-color: #e9ecef; /* Borde de celda más suave */
        }
        .table tbody td:last-child { /* Acciones de la última columna */
            white-space: nowrap; /* Evita que los botones se rompan de línea */
        }

        /* Modal de Confirmación de Eliminación */
        #modalEliminar .modal-content {
            border-radius: var(--border-radius);
            border: none;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }
        #modalEliminar .modal-header {
            background-color: var(--primary-color);
            color: var(--light-text);
            border-bottom: none;
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
        }
        #modalEliminar .modal-title {
            font-weight: 600;
        }
        #modalEliminar .modal-body {
            color: var(--dark-text);
        }
        #modalEliminar .modal-footer {
            border-top: none;
            padding: 1rem 1.5rem;
            justify-content: flex-end;
        }
        #modalEliminar .btn-close {
            filter: invert(1) grayscale(100%) brightness(200%); /* Hace la X del modal blanca */
        }


        /* Ajustes responsivos */
        @media (max-width: 768px) {
            h2 {
                font-size: 2rem; /* Ajusta el tamaño del título principal en móviles */
            }
            .form-section {
                padding: 1rem; /* Reduce el padding del formulario en móviles */
            }
            .form-section .col-md-4 {
                width: 100%; /* Las columnas del formulario se apilan en móviles */
            }
            .input-group {
                flex-direction: column; /* Apila el buscador y el botón en móviles */
                gap: 0.5rem; /* Espacio entre los elementos apilados */
            }
            .input-group .form-control {
                border-radius: 0.5rem !important; /* Todas las esquinas redondeadas */
            }
            .input-group .input-group-text {
                width: 100%; /* Ícono ocupa todo el ancho debajo del campo */
                border-radius: 0.5rem !important;
                justify-content: center; /* Centra el ícono */
                order: -1; /* Mueve el ícono arriba del campo si se apila */
            }
            .input-group .btn {
                margin-left: 0 !important; /* Elimina margen para que ocupe todo el ancho */
                width: 100%;
            }
        }
    </style>
</head>

<body class="p-4">
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="bi bi-seedling"></i> AgroGestión
            </a>
            </div>
    </nav>

    <div class="container">
        <h2 class="mb-4"><i class="bi bi-tree-fill me-2"></i>Gestión de Cultivos</h2>

        <div id="alerta" class="alert d-none" role="alert"></div>

        <div class="form-section mb-4">
            <h5 class="card-title mb-4" id="form-title">Crear Nuevo Cultivo</h5>
            <form id="form-cultivo" class="row g-3">
                <input type="hidden" id="cultivo-id">
                <div class="col-md-4">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" class="form-control" id="nombre" required>
                </div>
                <div class="col-md-4">
                    <label for="tipo" class="form-label">Tipo</label>
                    <input type="text" class="form-control" id="tipo" required>
                </div>
                <div class="col-md-4">
                    <label for="variedad" class="form-label">Variedad</label>
                    <input type="text" class="form-control" id="variedad" required>
                </div>
                <div class="col-md-4">
                    <label for="fecha_siembra" class="form-label">Fecha de Siembra</label>
                    <input type="date" class="form-control" id="fecha_siembra" required>
                </div>
                <div class="col-md-4">
                    <label for="hectareas" class="form-label">Hectáreas</label>
                    <input type="number" class="form-control" id="hectareas" step="0.01" required>
                </div>
                <div class="col-md-4">
                    <label for="ubicacion" class="form-label">Ubicación</label>
                    <input type="text" class="form-control" id="ubicacion" required>
                </div>
                <div class="col-md-4">
                    <label for="administrador" class="form-label">ID Administrador</label>
                    <input type="number" class="form-control" id="administrador" required>
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-warning" id="btn-guardar"><i class="bi bi-save me-2"></i>Guardar Cultivo</button>
                    <button type="button" class="btn btn-secondary ms-2 d-none" id="btn-cancelar"><i class="bi bi-x-circle me-2"></i>Cancelar</button>
                </div>
            </form>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"><i class="bi bi-search"></i></span>
            <input type="text" id="buscar" class="form-control" placeholder="Buscar por nombre...">
            <button class="btn btn-outline-secondary" id="limpiar-busqueda" title="Limpiar búsqueda"><i class="bi bi-x-circle"></i></button>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Nombre</th>
                        <th>Tipo</th>
                        <th>Variedad</th>
                        <th>Fecha Siembra</th>
                        <th>Hectáreas</th>
                        <th>Ubicación</th>
                        <th>Administrador</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-cultivos">
                    </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="modalEliminar" tabindex="-1" aria-labelledby="modalEliminarLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalEliminarLabel">Confirmar Eliminación</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    ¿Estás seguro de que deseas eliminar este cultivo?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="btn-confirmar-eliminar">Eliminar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/cultivos.js"></script>
</body>

</html>